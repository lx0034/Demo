<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
	body{
		display:flex;
		flex-flow:row wrap;
		align-items:center;
		justify-content:space-around;
	}
	canvas{
		background:#999;
	}
	</style>
	<script>
	window.onload = function(){
		var oCanvas = document.getElementById('canvas');
		var cobj = canvas.getContext('2d');
		var arr = [];
		for (var i = 0; i < 2; i++) {
			var rec = {
				width:50,
				height:50,
				color:'rgba('+ parseInt(255 * Math.random()) +','+ parseInt(255 * Math.random()) +','+parseInt(255 * Math.random()) +',255)'
			};
			arr.push(rec);
		};

		//指定总色块
		var newarr = [];
		for(var i=0;i < 2;i++){
			for(var j=0;j < arr.length;j++){
				newarr.push(arr[j]);
			}
		}

		//绘制到画布
		var rows = 0;
		var cols = 0;
		for(var i=0;i < newarr.length;i++){
			if(i % 4 == 0){
				rows++;
				cols = 0;
			}
			cobj.beginPath();
			cobj.fillStyle = newarr[i].color;
			cobj.rect(cols * (newarr[i].width + 5),rows * (newarr[i].height + 5),newarr[i].width,newarr[i].height);
			cobj.fill();
			cols++;
		}
	};
	</script>
</head>
<body>
	<canvas id="canvas" width='500' height='500'></canvas>
</body>
</html>